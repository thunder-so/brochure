---
import { type CollectionEntry, getCollection } from 'astro:content'
import DocsLayout from '../../layouts/DocsLayout.astro'

const docs = await getCollection('docs')
const indexDoc = docs.find((entry) => entry.slug === 'index')

if (!indexDoc) {
  throw new Error('Index doc not found')
}

const { Content, headings } = await indexDoc.render()
const { title } = indexDoc.data

export const prerender = true
---

<DocsLayout title={title} headings={headings}>
  <Content />
</DocsLayout>
